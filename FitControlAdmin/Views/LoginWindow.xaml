<Window x:Class="FitControlAdmin.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="FitControl Admin - Login" Height="650" Width="480"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="#313443">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,40,0,30">
            <TextBlock Text="FitControl" 
                       FontFamily="Lucida Sans Unicode"
                       FontSize="42" 
                       FontWeight="Bold" 
                       Foreground="#e6e6e8"
                       HorizontalAlignment="Center"/>
        </StackPanel>

        <!-- Login Form -->
        <Border Grid.Row="1" 
                Background="#272936" 
                CornerRadius="10" 
                Padding="40" 
                Margin="30,10,30,0"
                VerticalAlignment="Top">
            <StackPanel>
                <!-- Email -->
                <TextBlock Text="Email" 
                           Foreground="#e6e6e8" 
                           FontSize="14" 
                           Margin="0,0,0,8"/>
                <TextBox x:Name="EmailTextBox" 
                         TabIndex="0"
                         Padding="12,10" 
                         FontSize="14"
                         Background="#1f2937"
                         Foreground="#e6e6e8"
                         BorderBrush="#34495E"
                         BorderThickness="1"
                         Margin="0,0,0,20">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Style.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="BorderBrush" Value="#02acc3"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>

                <!-- Password -->
                <TextBlock Text="Palavra-passe" 
                           Foreground="#e6e6e8" 
                           FontSize="14" 
                           Margin="0,0,0,8"/>
                <Grid Margin="0,0,0,20" Panel.ZIndex="1">
                    <PasswordBox x:Name="PasswordBox" 
                                 TabIndex="1"
                                 Padding="12,10,40,10" 
                                 FontSize="14"
                                 Background="#1f2937"
                                 Foreground="#e6e6e8"
                                 BorderBrush="#34495E"
                                 BorderThickness="1">
                        <PasswordBox.Style>
                            <Style TargetType="PasswordBox">
                                <Style.Triggers>
                                    <Trigger Property="IsFocused" Value="True">
                                        <Setter Property="BorderBrush" Value="#02acc3"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </PasswordBox.Style>
                    </PasswordBox>
                    <TextBox x:Name="PasswordTextBox" 
                             TabIndex="1"
                             Padding="12,10,40,10" 
                             FontSize="14"
                             Background="#1f2937"
                             Foreground="#e6e6e8"
                             BorderBrush="#34495E"
                             BorderThickness="1"
                             Visibility="Collapsed">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="IsFocused" Value="True">
                                        <Setter Property="BorderBrush" Value="#02acc3"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                    <Button x:Name="TogglePasswordButton" 
                            TabIndex="2"
                            HorizontalAlignment="Right"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="#02acc3"
                            Padding="10,5"
                            Cursor="Hand"
                            Click="TogglePasswordButton_Click"
                            VerticalAlignment="Center"
                            Margin="0,0,5,0"
                            ToolTip="Mostrar/Ocultar palavra-passe">
                        <Image x:Name="TogglePasswordIcon" 
                               Source="/Images/eye-open.png" 
                               Width="20" 
                               Height="20" 
                               Stretch="Uniform"/>
                    </Button>
                </Grid>

                <!-- Error Message -->
                <TextBlock x:Name="ErrorMessage" 
                           Foreground="#e74c3c" 
                           TextWrapping="Wrap" 
                           Margin="0,0,0,15"
                           Visibility="Collapsed"
                           FontSize="12"/>

                <!-- Login Button -->
                <Button x:Name="LoginButton" 
                        TabIndex="3"
                        Content="Entrar" 
                        Click="LoginButton_Click" 
                        Padding="15,12" 
                        FontSize="16" 
                        FontWeight="SemiBold"
                        HorizontalAlignment="Stretch"
                        Background="#02acc3"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        Margin="0,0,0,15">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#02acc3"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#0299b0"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter Property="Background" Value="#34495E"/>
                                    <Setter Property="Foreground" Value="#95a5a6"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- Forgot Password Button -->
                <Button x:Name="ForgotPasswordButton" 
                        TabIndex="4"
                        Content="Esqueci-me da palavra-passe" 
                        Click="ForgotPasswordButton_Click"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="#02acc3"
                        FontSize="12"
                        Padding="0"
                        Cursor="Hand"
                        HorizontalAlignment="Center">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Foreground" Value="#0299b0"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>


        <!-- Overlay for Forgot Password Dialog -->
        <Grid x:Name="ForgotPasswordOverlay" 
              Grid.RowSpan="3"
              Background="#80000000"
              Visibility="Collapsed">
            <Border x:Name="ForgotPasswordDialog" 
                    Background="#272936" 
                    CornerRadius="10" 
                    Padding="30"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Width="400"
                    BorderBrush="#02acc3"
                    BorderThickness="2">
                <StackPanel>
                    <TextBlock Text="Recuperar Palavra-passe" 
                       FontSize="20" 
                       FontWeight="Bold"
                       Foreground="#e6e6e8"
                       Margin="0,0,0,20"
                       HorizontalAlignment="Center"/>

                    <TextBlock Text="Insira o seu email para receber uma nova palavra-passe temporÃ¡ria:" 
                       Foreground="#e6e6e8" 
                       FontSize="12" 
                       TextWrapping="Wrap"
                       Margin="0,0,0,15"/>

                    <TextBlock Text="Email" 
                       Foreground="#e6e6e8" 
                       FontSize="14" 
                       Margin="0,0,0,8"/>
                    <TextBox x:Name="ForgotPasswordEmailTextBox" 
                     Padding="12,10" 
                     FontSize="14"
                     Background="#1f2937"
                     Foreground="#e6e6e8"
                     BorderBrush="#34495E"
                     BorderThickness="1"
                     Margin="0,0,0,15">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="IsFocused" Value="True">
                                        <Setter Property="BorderBrush" Value="#02acc3"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>

                    <TextBlock x:Name="ForgotPasswordMessage" 
                       Foreground="#27AE60" 
                       TextWrapping="Wrap" 
                       Margin="0,0,0,15"
                       Visibility="Collapsed"
                       FontSize="12"/>

                    <TextBlock x:Name="ForgotPasswordError" 
                       Foreground="#e74c3c" 
                       TextWrapping="Wrap" 
                       Margin="0,0,0,15"
                       Visibility="Collapsed"
                       FontSize="12"/>

                    <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                        <Button x:Name="CancelForgotPasswordButton" 
                        Content="Cancelar" 
                        Click="CancelForgotPasswordButton_Click"
                        Padding="15,8" 
                        Margin="0,0,10,0"
                        Background="#34495E"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        FontSize="14">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="#34495E"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#2c3e50"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button x:Name="SendResetEmailButton" 
                        Content="Enviar Email" 
                        Click="SendResetEmailButton_Click"
                        Padding="15,8"
                        Margin="0,0,10,0"
                        Background="#02acc3"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        FontSize="14">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="#02acc3"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#0299b0"/>
                                        </Trigger>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter Property="Background" Value="#34495E"/>
                                            <Setter Property="Foreground" Value="#95a5a6"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button x:Name="ForgotPasswordOkButton" 
                        Content="OK" 
                        Click="ForgotPasswordOkButton_Click"
                        Padding="15,8"
                        Visibility="Collapsed"
                        Background="#02acc3"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        FontSize="14">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="#02acc3"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#0299b0"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
